
<!--
  ~ Copyright (c) 2019
  ~ California Department of Water Resources
  ~ All Rights Reserved.  DWR PROPRIETARY/CONFIDENTIAL.
  ~ Source may not be released without written approval from DWR
  -->

<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module vtimeseries</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>vtimeseries</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:u:\git\dsm2-vista\vista\lib\lib\vtimeseries.py">u:\git\dsm2-vista\vista\lib\lib\vtimeseries.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#fffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="string.html">string</a><br>
</td><td width="25%" valign=top></td><td width="25%" valign=top></td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="java.lang.html#Object">java.lang.Object</a>(<a href="__builtin__.html#object">__builtin__.object</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial">org.python.modules.jarray
</font></dt></dl>
</dd>
</dl>
 <strong>jarray</strong> = &lt;type 'org.python.modules.jarray'&gt;</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-apply"><strong>apply</strong></a>(ts, function, filter<font color="#909090">=vista.set.CompositeFilter@f9d4f7</font>)</dt><dd><tt><a href="#-apply">apply</a>(ts,&nbsp;function)<br>
&nbsp;&nbsp;&nbsp;&nbsp;applies&nbsp;to&nbsp;this&nbsp;time&nbsp;series&nbsp;the&nbsp;function&nbsp;by&nbsp;evaluating&nbsp;the&nbsp;function&nbsp;at&nbsp;each&nbsp;point<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;function&nbsp;takes&nbsp;the&nbsp;value&nbsp;for&nbsp;the&nbsp;element,&nbsp;transforms&nbsp;and&nbsp;stores&nbsp;it&nbsp;in&nbsp;the&nbsp;same&nbsp;element&nbsp;into&nbsp;the&nbsp;time&nbsp;series</tt></dd></dl>
 <dl><dt><a name="-avg"><strong>avg</strong></a>(ts)</dt><dd><tt>The&nbsp;average&nbsp;of&nbsp;a&nbsp;time&nbsp;series</tt></dd></dl>
 <dl><dt><a name="-bound"><strong>bound</strong></a>(ts, lower, upper)</dt><dd><tt><a href="#-bound">bound</a>(ts,lower,upper)<br>
&nbsp;&nbsp;&nbsp;&nbsp;creates&nbsp;a&nbsp;new&nbsp;time&nbsp;series&nbsp;with&nbsp;bounds&nbsp;of&nbsp;lower&nbsp;and&nbsp;upper&nbsp;(if&nbsp;defined,&nbsp;pass&nbsp;None&nbsp;if&nbsp;undefined)&nbsp;and&nbsp;returns&nbsp;it</tt></dd></dl>
 <dl><dt><a name="-calc_tidal_amplitude"><strong>calc_tidal_amplitude</strong></a>(dsAr)</dt><dd><tt><a href="#-calc_tidal_amplitude">calc_tidal_amplitude</a>(dsAr)<br>
Calculate&nbsp;the&nbsp;tidal&nbsp;amplitude&nbsp;of&nbsp;the&nbsp;Peak&nbsp;and&nbsp;Trough&nbsp;datasets<br>
in&nbsp;the&nbsp;dsAr&nbsp;array.&nbsp;&nbsp;Amplitude&nbsp;is&nbsp;defined&nbsp;as&nbsp;the&nbsp;difference&nbsp;between<br>
a&nbsp;Peak&nbsp;Y&nbsp;value&nbsp;and&nbsp;the&nbsp;immediate&nbsp;next&nbsp;Trough&nbsp;Y&nbsp;value.</tt></dd></dl>
 <dl><dt><a name="-convert_to_date"><strong>convert_to_date</strong></a>(time_val)</dt></dl>
 <dl><dt><a name="-create_regular_timeseries"><strong>create_regular_timeseries</strong></a>(name, start_time, interval, yvalues)</dt></dl>
 <dl><dt><a name="-do_period_op"><strong>do_period_op</strong></a>(ds, ti, OPER)</dt></dl>
 <dl><dt><a name="-dsIndex"><strong>dsIndex</strong></a>(ds, timeinst, ndxHint<font color="#909090">=0</font>)</dt><dd><tt><a href="#-dsIndex">dsIndex</a>(ds,&nbsp;timeinst,ndxHint):<br>
Returns&nbsp;the&nbsp;"nearest"&nbsp;index&nbsp;(long)&nbsp;of&nbsp;the&nbsp;dataset&nbsp;that&nbsp;includes&nbsp;<br>
timeinst&nbsp;(str&nbsp;or&nbsp;time&nbsp;object),<br>
or&nbsp;None&nbsp;if&nbsp;the&nbsp;timeinst&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;dataset.&nbsp;With&nbsp;optional&nbsp;ndxHint,<br>
start&nbsp;at&nbsp;that&nbsp;index.<br>
"nearest"&nbsp;is&nbsp;the&nbsp;index&nbsp;which&nbsp;time&nbsp;is&nbsp;equal&nbsp;to&nbsp;timeinst,<br>
or&nbsp;which&nbsp;time&nbsp;is&nbsp;the&nbsp;first&nbsp;one&nbsp;less&nbsp;than&nbsp;timeinst.</tt></dd></dl>
 <dl><dt><a name="-ds_add_flags"><strong>ds_add_flags</strong></a>(dataset)</dt><dd><tt><a href="#-ds_add_flags">ds_add_flags</a>(dataset)<br>
Add&nbsp;UNSCREENED_FLAG&nbsp;to&nbsp;dataset&nbsp;that&nbsp;does&nbsp;not&nbsp;have&nbsp;any&nbsp;flags</tt></dd></dl>
 <dl><dt><a name="-find_tidal_pt"><strong>find_tidal_pt</strong></a>(dsref, dsrefSm<font color="#909090">=None</font>)</dt><dd><tt><a href="#-find_tidal_pt">find_tidal_pt</a>(dataset-or-reference,&nbsp;[dsrefSm],&nbsp;[dsSmOffset]):<br>
Find&nbsp;tidal&nbsp;Peaks&nbsp;and&nbsp;Troughs&nbsp;within&nbsp;a&nbsp;dataset&nbsp;or&nbsp;reference&nbsp;(either&nbsp;RTS&nbsp;or&nbsp;ITS).<br>
Return&nbsp;a&nbsp;list&nbsp;of&nbsp;two&nbsp;irregular&nbsp;time&nbsp;series&nbsp;of&nbsp;the&nbsp;computed&nbsp;values;<br>
for&nbsp;each&nbsp;element&nbsp;the&nbsp;time&nbsp;is&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;peak&nbsp;or&nbsp;trough;<br>
y&nbsp;is&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;peak&nbsp;or&nbsp;trough.&nbsp;<br>
Optional&nbsp;dsrefSm&nbsp;is&nbsp;a&nbsp;smoothed&nbsp;version&nbsp;of&nbsp;dsref,&nbsp;helpful&nbsp;for&nbsp;noisy<br>
timeseries&nbsp;such&nbsp;as&nbsp;observed&nbsp;EC.&nbsp;&nbsp;The&nbsp;smoothed&nbsp;version&nbsp;should&nbsp;be&nbsp;padded<br>
and&nbsp;extended&nbsp;with&nbsp;Constants.MISSING_VALUE&nbsp;if&nbsp;needed.</tt></dd></dl>
 <dl><dt><a name="-godin"><strong>godin</strong></a>(ref)</dt><dd><tt>&nbsp;Tidal&nbsp;average&nbsp;using&nbsp;a&nbsp;filter&nbsp;similar&nbsp;to&nbsp;the&nbsp;Godin&nbsp;25-24-24&nbsp;tidal&nbsp;average.<br>
&nbsp;Arguments:<br>
&nbsp;ref&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reference&nbsp;to&nbsp;series&nbsp;to&nbsp;be&nbsp;averaged<br>
&nbsp;Return&nbsp;value:<br>
&nbsp;reference&nbsp;to&nbsp;averaged&nbsp;filter<br>
&nbsp;<br>
&nbsp;This&nbsp;is&nbsp;the&nbsp;Godin&nbsp;filter&nbsp;discussed&nbsp;in&nbsp;the&nbsp;G-model&nbsp;literature&nbsp;<br>
&nbsp;and&nbsp;popular&nbsp;in&nbsp;the&nbsp;tidal&nbsp;literature&nbsp;(though<br>
&nbsp;not&nbsp;necessarily&nbsp;under&nbsp;the&nbsp;name&nbsp;Godin&nbsp;filter).<br>
&nbsp;<br>
&nbsp;For&nbsp;hourly&nbsp;data,&nbsp;the&nbsp;25-24-24&nbsp;filter&nbsp;is&nbsp;applied&nbsp;exactly&nbsp;<br>
(25-hour&nbsp;moving&nbsp;average,&nbsp;then&nbsp;two&nbsp;24-hour&nbsp;moving<br>
&nbsp;averages).&nbsp;When&nbsp;the&nbsp;input&nbsp;series&nbsp;uses&nbsp;time&nbsp;steps,&nbsp;<br>
&nbsp;the&nbsp;lunar&nbsp;tidal&nbsp;cycle&nbsp;is&nbsp;assumed&nbsp;to&nbsp;be&nbsp;24hours_45&nbsp;minutes<br>
&nbsp;(e.g.&nbsp;99&nbsp;values&nbsp;for&nbsp;15&nbsp;min&nbsp;data).<br>
&nbsp;<br>
&nbsp;The&nbsp;mechanical&nbsp;difference&nbsp;between&nbsp;godin&nbsp;and&nbsp;tidal_avg,&nbsp;<br>
&nbsp;is&nbsp;this&nbsp;filter&nbsp;removes&nbsp;24-hour&nbsp;constituents&nbsp;more<br>
&nbsp;completely.&nbsp;A&nbsp;practical&nbsp;difference&nbsp;is&nbsp;this&nbsp;returned&nbsp;average&nbsp;<br>
&nbsp;is&nbsp;period-centered.&nbsp;The&nbsp;shift&nbsp;operator&nbsp;can<br>
&nbsp;be&nbsp;easily&nbsp;used&nbsp;to&nbsp;adjust&nbsp;this&nbsp;to&nbsp;the&nbsp;statutory&nbsp;version</tt></dd></dl>
 <dl><dt><a name="-interpolate"><strong>interpolate</strong></a>(ref, tm_intvl<font color="#909090">='1day'</font>, flat<font color="#909090">=True</font>)</dt><dd><tt><a href="#-interpolate">interpolate</a>(ref,tm_intvl='1day',flat=True):<br>
generates&nbsp;from&nbsp;given&nbsp;data&nbsp;which&nbsp;may&nbsp;be&nbsp;reference&nbsp;or&nbsp;regular&nbsp;time&nbsp;series<br>
either&nbsp;a&nbsp;reference&nbsp;or&nbsp;time&nbsp;series&nbsp;depending&nbsp;upon&nbsp;the&nbsp;input.&nbsp;The&nbsp;generated<br>
data&nbsp;interpolates&nbsp;using&nbsp;values&nbsp;of&nbsp;input&nbsp;creating&nbsp;a&nbsp;data&nbsp;set&nbsp;of&nbsp;interval<br>
smaller&nbsp;than&nbsp;given&nbsp;data.<br>
For&nbsp;right&nbsp;now&nbsp;only&nbsp;flat&nbsp;=&nbsp;True&nbsp;works&nbsp;but&nbsp;someday&nbsp;we'll&nbsp;have&nbsp;the&nbsp;linear<br>
interpolate&nbsp;working&nbsp;as&nbsp;well.<br>
&nbsp;<br>
Usage:<br>
ref1&nbsp;=&nbsp;<a href="#-interpolate">interpolate</a>(ref_input,'1day')<br>
OR<br>
ds1&nbsp;=&nbsp;<a href="#-interpolate">interpolate</a>(ref_input.getData(),'1day')</tt></dd></dl>
 <dl><dt><a name="-isITS"><strong>isITS</strong></a>(dataset)</dt><dd><tt><a href="#-isITS">isITS</a>(dataset)<br>
return&nbsp;True&nbsp;if&nbsp;dataset&nbsp;is&nbsp;Irregular&nbsp;Time&nbsp;Series,<br>
False&nbsp;if&nbsp;not</tt></dd></dl>
 <dl><dt><a name="-isRTS"><strong>isRTS</strong></a>(dataset)</dt><dd><tt><a href="#-isRTS">isRTS</a>(dataset)<br>
return&nbsp;True&nbsp;if&nbsp;dataset&nbsp;is&nbsp;Regular&nbsp;Time&nbsp;Series,<br>
False&nbsp;if&nbsp;not</tt></dd></dl>
 <dl><dt><a name="-its2rts"><strong>its2rts</strong></a>(its, tis<font color="#909090">=None</font>)</dt><dd><tt><a href="#-its2rts">its2rts</a>(its,tis=None):<br>
Converts&nbsp;irregular&nbsp;time&nbsp;series&nbsp;to&nbsp;regular&nbsp;time&nbsp;series&nbsp;with<br>
time&nbsp;interval.<br>
Input&nbsp;is&nbsp;irregular&nbsp;time&nbsp;series&nbsp;dataref&nbsp;or&nbsp;dataset,<br>
optional&nbsp;time&nbsp;interval&nbsp;as&nbsp;string.&nbsp;If&nbsp;not&nbsp;given,&nbsp;an<br>
estimate&nbsp;is&nbsp;made.</tt></dd></dl>
 <dl><dt><a name="-linear"><strong>linear</strong></a>(ref, myfilter<font color="#909090">=vista.set.CompositeFilter@f9d4f7</font>)</dt><dd><tt>Linearly&nbsp;interpolate&nbsp;missing&nbsp;data&nbsp;in&nbsp;a&nbsp;time&nbsp;series<br>
Eli&nbsp;Ateljevich&nbsp;9/27/99</tt></dd></dl>
 <dl><dt><a name="-median3"><strong>median3</strong></a>(a, b, c)</dt></dl>
 <dl><dt><a name="-merge"><strong>merge</strong></a>(args, filter<font color="#909090">=vista.set.CompositeFilter@f9d4f7</font>)</dt><dd><tt><a href="#-merge">merge</a>(args,filter=Constants.DEFAULT_FLAG_FILTER):<br>
where&nbsp;args&nbsp;is&nbsp;an&nbsp;array&nbsp;of&nbsp;data&nbsp;references&nbsp;or&nbsp;data&nbsp;sets<br>
&amp;&nbsp;filter&nbsp;is&nbsp;the&nbsp;filter&nbsp;for&nbsp;accepting&nbsp;or&nbsp;rejecting&nbsp;values<br>
(type&nbsp;vista.set.ElementFilter)<br>
It&nbsp;returns&nbsp;a&nbsp;merged&nbsp;reference&nbsp;or&nbsp;a&nbsp;merged&nbsp;data&nbsp;set</tt></dd></dl>
 <dl><dt><a name="-merge_with_flags"><strong>merge_with_flags</strong></a>(ds1, ds2)</dt><dd><tt><a href="#-merge_with_flags">merge_with_flags</a>(ds1,ds2)<br>
Merge&nbsp;dataset1&nbsp;into&nbsp;dataset2&nbsp;using&nbsp;flags.&nbsp;&nbsp;Priority:<br>
FlagUtils.OK_FLAG,&nbsp;QUESTIONABLE_FLAG,&nbsp;MISSING_FLAG,&nbsp;REJECT_FLAG,&nbsp;UNSCREENED_FLAG<br>
If&nbsp;ds1Flag&nbsp;priority&nbsp;&gt;=&nbsp;ds2Flag&nbsp;priority,&nbsp;use&nbsp;ds1&nbsp;value;<br>
If&nbsp;ds1Flag&nbsp;priority&nbsp;&lt;&nbsp;ds2Flag&nbsp;priority,&nbsp;use&nbsp;ds2&nbsp;value.<br>
If&nbsp;a&nbsp;dataset&nbsp;does&nbsp;not&nbsp;have&nbsp;flags,&nbsp;UNSCREENED_FLAG&nbsp;is&nbsp;assumed.<br>
The&nbsp;two&nbsp;paths&nbsp;need&nbsp;not&nbsp;start&nbsp;or&nbsp;end&nbsp;at&nbsp;the&nbsp;same&nbsp;time.<br>
&nbsp;<br>
Return&nbsp;a&nbsp;list&nbsp;of&nbsp;merged&nbsp;elements&nbsp;from&nbsp;ds1&nbsp;and&nbsp;ds2.</tt></dd></dl>
 <dl><dt><a name="-minmod"><strong>minmod</strong></a>(a, b)</dt></dl>
 <dl><dt><a name="-mov_avg"><strong>mov_avg</strong></a>(dsref, backLength, forwardLength)</dt><dd><tt><a href="#-mov_avg">mov_avg</a>(ts,backLength,forwardLength):<br>
Does&nbsp;a&nbsp;moving&nbsp;average&nbsp;of&nbsp;the&nbsp;time&nbsp;series&nbsp;(dataset&nbsp;or&nbsp;ref)&nbsp;with&nbsp;<br>
backLength&nbsp;previous&nbsp;points&nbsp;and&nbsp;forwardLength&nbsp;future&nbsp;points&nbsp;and<br>
the&nbsp;present&nbsp;point.&nbsp;Returns&nbsp;the&nbsp;result&nbsp;as&nbsp;a&nbsp;new&nbsp;time&nbsp;series.</tt></dd></dl>
 <dl><dt><a name="-nearest_index"><strong>nearest_index</strong></a>(ds, timeinst, ndxHint<font color="#909090">=0</font>)</dt><dd><tt><a href="#-nearest_index">nearest_index</a>(ds,&nbsp;timeinst):<br>
Returns&nbsp;the&nbsp;nearest&nbsp;index&nbsp;of&nbsp;the&nbsp;dataset&nbsp;that&nbsp;includes&nbsp;timeinst,<br>
or&nbsp;None&nbsp;if&nbsp;the&nbsp;timeinst&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;dataset.&nbsp;With&nbsp;optional&nbsp;ndxHint,<br>
start&nbsp;at&nbsp;that&nbsp;index.</tt></dd></dl>
 <dl><dt><a name="-per_avg"><strong>per_avg</strong></a>(ds, interval<font color="#909090">='1mon'</font>)</dt></dl>
 <dl><dt><a name="-per_max"><strong>per_max</strong></a>(ds, interval<font color="#909090">='1mon'</font>)</dt></dl>
 <dl><dt><a name="-per_max_time"><strong>per_max_time</strong></a>(ds, interval<font color="#909090">='1mon'</font>)</dt><dd><tt>Locates&nbsp;the&nbsp;maximum&nbsp;within&nbsp;an&nbsp;interval&nbsp;and&nbsp;returns&nbsp;an&nbsp;irregular&nbsp;time&nbsp;series&nbsp;with&nbsp;the&nbsp;max&nbsp;value<br>
and&nbsp;the&nbsp;time&nbsp;at&nbsp;which&nbsp;it&nbsp;occurs</tt></dd></dl>
 <dl><dt><a name="-per_min"><strong>per_min</strong></a>(ds, interval<font color="#909090">='1mon'</font>)</dt></dl>
 <dl><dt><a name="-per_min_time"><strong>per_min_time</strong></a>(ds, interval<font color="#909090">='1mon'</font>)</dt><dd><tt>Locates&nbsp;the&nbsp;minimum&nbsp;within&nbsp;an&nbsp;interval&nbsp;and&nbsp;returns&nbsp;an&nbsp;irregular&nbsp;time&nbsp;series&nbsp;with&nbsp;the&nbsp;min&nbsp;value<br>
and&nbsp;the&nbsp;time&nbsp;at&nbsp;which&nbsp;it&nbsp;occurs</tt></dd></dl>
 <dl><dt><a name="-per_oper"><strong>per_oper</strong></a>(dsref, oper, interval)</dt><dd><tt><a href="#-per_oper">per_oper</a>(dataset-or-reference,&nbsp;operation,&nbsp;interval='1mon'):<br>
Period&nbsp;operations&nbsp;(average,&nbsp;max,&nbsp;min)&nbsp;given&nbsp;regular&nbsp;or&nbsp;irregular&nbsp;time&nbsp;series<br>
or&nbsp;data&nbsp;reference&nbsp;within&nbsp;each&nbsp;interval,&nbsp;over&nbsp;the&nbsp;entire&nbsp;TS.&nbsp;Always<br>
return&nbsp;a&nbsp;RTS.</tt></dd></dl>
 <dl><dt><a name="-resample"><strong>resample</strong></a>(ref, outint, offset<font color="#909090">=0</font>)</dt><dd><tt>Resample&nbsp;a&nbsp;time&nbsp;series&nbsp;at&nbsp;regular&nbsp;intervals<br>
(e.g.&nbsp;turn&nbsp;15&nbsp;minute&nbsp;data&nbsp;into&nbsp;1&nbsp;hour&nbsp;data)<br>
&nbsp;<br>
Arguments:<br>
ref&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reference&nbsp;to&nbsp;series&nbsp;to&nbsp;be&nbsp;resampled<br>
outint&nbsp;&nbsp;(string)&nbsp;time&nbsp;interval&nbsp;for&nbsp;resampling.&nbsp;Must&nbsp;be&nbsp;greater&nbsp;than&nbsp;that&nbsp;of&nbsp;ref<br>
offset&nbsp;&nbsp;shift&nbsp;in&nbsp;sampling&nbsp;time.&nbsp;The&nbsp;offset&nbsp;is&nbsp;measured&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;units&nbsp;of&nbsp;the&nbsp;original&nbsp;series.&nbsp;For&nbsp;example,&nbsp;when&nbsp;15min&nbsp;is&nbsp;data&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sampled&nbsp;daily,&nbsp;the&nbsp;default&nbsp;is&nbsp;to&nbsp;sample&nbsp;at&nbsp;time&nbsp;2400&nbsp;hours.&nbsp;To<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sample&nbsp;at&nbsp;1200&nbsp;hours,&nbsp;use&nbsp;offset=48.<br>
Return&nbsp;value:&nbsp;&nbsp;&nbsp;&nbsp;reference&nbsp;to&nbsp;resampled&nbsp;series</tt></dd></dl>
 <dl><dt><a name="-sdev"><strong>sdev</strong></a>(ts)</dt><dd><tt>The&nbsp;standard&nbsp;deviation&nbsp;of&nbsp;a&nbsp;time&nbsp;series</tt></dd></dl>
 <dl><dt><a name="-spline"><strong>spline</strong></a>(ref, outint, offset<font color="#909090">=0</font>)</dt><dd><tt>Usage&nbsp;example:&nbsp;&nbsp;<a href="#-interpolate">interpolate</a>(ref,outint&nbsp;=&nbsp;<a href="#-timeinterval">timeinterval</a>("15min"),offset&nbsp;=&nbsp;48)<br>
&nbsp;<br>
Interpolating&nbsp;spline<br>
Eli&nbsp;Ateljevich&nbsp;9/27/99<br>
&nbsp;<br>
This&nbsp;functions&nbsp;is&nbsp;designed&nbsp;to&nbsp;map&nbsp;a&nbsp;coarser&nbsp;time&nbsp;series&nbsp;into&nbsp;a&nbsp;smaller&nbsp;one<br>
covering&nbsp;the&nbsp;same&nbsp;time&nbsp;window.&nbsp;The&nbsp;spline&nbsp;is&nbsp;monotonicity-preserving<br>
and&nbsp;fourth&nbsp;order&nbsp;accurate&nbsp;(except&nbsp;near&nbsp;boundaries)<br>
&nbsp;<br>
offset&nbsp;shifts&nbsp;the&nbsp;output&nbsp;as&nbsp;appropriate.&nbsp;Typically,&nbsp;offset&nbsp;will&nbsp;be<br>
zero&nbsp;for&nbsp;inst-val&nbsp;input.&nbsp;For&nbsp;per-ave&nbsp;input,&nbsp;offset&nbsp;will&nbsp;often&nbsp;be<br>
half&nbsp;of&nbsp;the&nbsp;output&nbsp;frequency.&nbsp;In&nbsp;the&nbsp;example&nbsp;above,&nbsp;NDO&nbsp;<br>
input&nbsp;is&nbsp;treated&nbsp;as&nbsp;&nbsp;"daily&nbsp;averaged".&nbsp;Output&nbsp;is&nbsp;in&nbsp;units&nbsp;of<br>
15minutes.&nbsp;Since&nbsp;there&nbsp;are&nbsp;are&nbsp;96&nbsp;15min&nbsp;samples&nbsp;per&nbsp;24&nbsp;hours<br>
offset&nbsp;=&nbsp;0.5*96&nbsp;=&nbsp;48.<br>
&nbsp;<br>
Output&nbsp;is&nbsp;a&nbsp;regular&nbsp;time&nbsp;series&nbsp;(rts).<br>
&nbsp;<br>
Reference:&nbsp;Huynh,&nbsp;HT&nbsp;"Accurate&nbsp;Monotone&nbsp;Cubic&nbsp;Interpolation",<br>
SIAM&nbsp;J.&nbsp;Numer.&nbsp;Analysis&nbsp;V30&nbsp;No.&nbsp;1&nbsp;pp&nbsp;57-100&nbsp;<br>
All&nbsp;equation&nbsp;numbers&nbsp;refer&nbsp;to&nbsp;this&nbsp;paper.&nbsp;The&nbsp;variable&nbsp;names&nbsp;are&nbsp;<br>
also&nbsp;almost&nbsp;the&nbsp;same.&nbsp;Double&nbsp;letters&nbsp;like&nbsp;"ee"&nbsp;to&nbsp;indicate&nbsp;<br>
that&nbsp;the&nbsp;subscript&nbsp;should&nbsp;have&nbsp;"+1/2"&nbsp;added&nbsp;to&nbsp;it.</tt></dd></dl>
 <dl><dt><a name="-taf2cfs"><strong>taf2cfs</strong></a>(ref)</dt><dd><tt><a href="#-taf2cfs">taf2cfs</a>(ref):<br>
converts&nbsp;units&nbsp;of&nbsp;TAF&nbsp;to&nbsp;CFS&nbsp;for&nbsp;the&nbsp;given&nbsp;reference.&nbsp;Additionaly&nbsp;it<br>
also&nbsp;sets&nbsp;the&nbsp;units&nbsp;of&nbsp;the&nbsp;data&nbsp;set&nbsp;pointed&nbsp;to&nbsp;by&nbsp;the&nbsp;reference&nbsp;to&nbsp;CFS.<br>
This&nbsp;method&nbsp;does&nbsp;an&nbsp;exact&nbsp;conversion&nbsp;based&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;days&nbsp;in<br>
the&nbsp;particular&nbsp;month</tt></dd></dl>
 <dl><dt><a name="-testspline"><strong>testspline</strong></a>()</dt><dd><tt>#def&nbsp;testlinear():<br>
#&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;vutils&nbsp;import&nbsp;opendss,&nbsp;findpath,&nbsp;timewindow,&nbsp;tabulate<br>
#&nbsp;&nbsp;&nbsp;&nbsp;infile='h:/data/dss/IEP/hydro.dss'<br>
#&nbsp;&nbsp;&nbsp;&nbsp;inpath='/RLTM\+CHAN/RSAC155/FLOW//1HOUR/CDEC/'<br>
#&nbsp;&nbsp;&nbsp;&nbsp;tw_str='16JAN1999&nbsp;1200&nbsp;-&nbsp;21JAN1999&nbsp;1600'<br>
#&nbsp;&nbsp;&nbsp;&nbsp;g=opendss(infile)<br>
#&nbsp;&nbsp;&nbsp;&nbsp;ref&nbsp;=&nbsp;findpath(g,inpath)[0]<br>
#&nbsp;&nbsp;&nbsp;&nbsp;ref&nbsp;=&nbsp;DataReference.create(ref,<a href="#-timewindow">timewindow</a>(tw_str))<br>
#&nbsp;&nbsp;&nbsp;&nbsp;rts=interplinear(ref)<br>
#&nbsp;&nbsp;&nbsp;&nbsp;tabulate(rts,ref.getData())</tt></dd></dl>
 <dl><dt><a name="-tidal_avg"><strong>tidal_avg</strong></a>(ref)</dt><dd><tt><a href="#-tidal_avg">tidal_avg</a>(ref):<br>
calculates&nbsp;the&nbsp;tidal&nbsp;average&nbsp;of&nbsp;the&nbsp;given&nbsp;reference&nbsp;and&nbsp;returns&nbsp;it&nbsp;in<br>
another&nbsp;reference.&nbsp;The&nbsp;returning&nbsp;reference&nbsp;can&nbsp;be&nbsp;treated&nbsp;just&nbsp;like&nbsp;any<br>
other&nbsp;reference.<br>
A&nbsp;tidal&nbsp;cycle&nbsp;is&nbsp;assumed&nbsp;to&nbsp;be&nbsp;24hours_45&nbsp;minutes&nbsp;but&nbsp;for&nbsp;1hour&nbsp;time&nbsp;interval<br>
data&nbsp;it&nbsp;is&nbsp;rounded&nbsp;off&nbsp;to&nbsp;25hours.</tt></dd></dl>
 <dl><dt><a name="-time"><strong>time</strong></a>(tmstr, pattern<font color="#909090">=None</font>)</dt><dd><tt><a href="#-time">time</a>(tmstr,pattern):<br>
creates&nbsp;a&nbsp;time&nbsp;object&nbsp;for&nbsp;the&nbsp;given&nbsp;time&nbsp;string&nbsp;in&nbsp;ddMMMyyyy&nbsp;HHmm<br>
format.</tt></dd></dl>
 <dl><dt><a name="-timeinterval"><strong>timeinterval</strong></a>(tmistr)</dt><dd><tt><a href="#-timeinterval">timeinterval</a>(tmistr):<br>
creates&nbsp;a&nbsp;time&nbsp;interval&nbsp;object&nbsp;for&nbsp;the&nbsp;given&nbsp;time&nbsp;interval<br>
in&nbsp;the&nbsp;format&nbsp;of&nbsp;#interval&nbsp;where&nbsp;#&nbsp;is&nbsp;a&nbsp;an&nbsp;integer&nbsp;and<br>
interval&nbsp;is&nbsp;a&nbsp;string&nbsp;such&nbsp;as&nbsp;min,&nbsp;hour,&nbsp;day,&nbsp;month,&nbsp;year</tt></dd></dl>
 <dl><dt><a name="-timewindow"><strong>timewindow</strong></a>(twstr)</dt><dd><tt><a href="#-timewindow">timewindow</a>(tm)<br>
creates&nbsp;a&nbsp;time&nbsp;window&nbsp;object&nbsp;from&nbsp;a&nbsp;string</tt></dd></dl>
 <dl><dt><a name="-total"><strong>total</strong></a>(ts)</dt><dd><tt>The&nbsp;total&nbsp;of&nbsp;a&nbsp;time&nbsp;series</tt></dd></dl>
 <dl><dt><a name="-total_abs"><strong>total_abs</strong></a>(ts)</dt><dd><tt>The&nbsp;total&nbsp;of&nbsp;absolute&nbsp;values&nbsp;of&nbsp;the&nbsp;time&nbsp;series</tt></dd></dl>
 <dl><dt><a name="-tsmax"><strong>tsmax</strong></a>(ts)</dt><dd><tt>The&nbsp;maximum&nbsp;of&nbsp;a&nbsp;time&nbsp;series</tt></dd></dl>
 <dl><dt><a name="-tsmin"><strong>tsmin</strong></a>(ts)</dt><dd><tt>The&nbsp;minimum&nbsp;value&nbsp;of&nbsp;a&nbsp;time&nbsp;series</tt></dd></dl>
 <dl><dt><a name="-where"><strong>where</strong></a>(ts, conditional, filter<font color="#909090">=vista.set.CompositeFilter@f9d4f7</font>)</dt><dd><tt><a href="#-where">where</a>(ts,&nbsp;conditional):<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;a&nbsp;time&nbsp;series&nbsp;with&nbsp;a&nbsp;1&nbsp;where&nbsp;conditional&nbsp;evaluates&nbsp;to&nbsp;true&nbsp;and&nbsp;0&nbsp;otherwise<br>
&nbsp;&nbsp;&nbsp;&nbsp;conditional&nbsp;is&nbsp;a&nbsp;function&nbsp;that&nbsp;accepts&nbsp;a&nbsp;DataSetElement&nbsp;consisting&nbsp;of&nbsp;a&nbsp;x&nbsp;value,&nbsp;a&nbsp;y&nbsp;value&nbsp;and&nbsp;optionally&nbsp;a&nbsp;flag&nbsp;value<br>
&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;can&nbsp;return&nbsp;True/False&nbsp;or&nbsp;0/1</tt></dd></dl>
 <dl><dt><a name="-where_missing"><strong>where_missing</strong></a>(rts, filter<font color="#909090">=vista.set.CompositeFilter@f9d4f7</font>)</dt><dd><tt><a href="#-where_missing">where_missing</a>(rts,filter=Constants.DEFAULT_FLAG_FILTER):<br>
&nbsp;returns&nbsp;a&nbsp;time&nbsp;series&nbsp;with&nbsp;a&nbsp;1&nbsp;where&nbsp;missing&nbsp;or&nbsp;not&nbsp;acceptable&nbsp;with&nbsp;filter<br>
&nbsp;and&nbsp;0&nbsp;otherwise<br>
&nbsp;where&nbsp;rts&nbsp;is&nbsp;a&nbsp;regular&nbsp;time&nbsp;series&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter&nbsp;is&nbsp;of&nbsp;type&nbsp;vista.set.ElementFilter&nbsp;e.g.&nbsp;Constants.DEFAULT_FLAG_FILTER</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>MAXYEAR</strong> = 9999<br>
<strong>MINYEAR</strong> = 1<br>
<strong>TF</strong> = vista.time.TimeFactory@f8ae79<br>
<strong>TestDefaultTime</strong> = None<br>
<strong>TestDefaultTimeInterval</strong> = None<br>
<strong>zeros</strong> = &lt;java function zeros 0x31&gt;</td></tr></table>
</body></html>